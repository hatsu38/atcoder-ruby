=begin
## 問題文
高橋くんは、N個の単語からなる文章をウィンドウに表示させようとしています。
すべての単語の縦幅は等しく、i番目(1≤i≤N)の単語の横幅はLi​です。
文章は、横幅1の空白を単語の区切りとしてウィンドウに表示されます。
より厳密には、高橋くんが横幅Wのウィンドウに文章を表示しているとき、次の条件が成り立っています。
文章はいくつかの行に分かれている。
1番目の単語は一番上の行の先頭に表示されている。
i番目(2≤i≤N)の単語は、i−1番目の単語の次に間隔を1だけ開けて表示されているか、i−1番目の単語が含まれる行の下の行の先頭に表示されているかの一方である。
それ以外の場所に表示されていることはない。
それぞれの行の横幅はWを超えない。
ここで、行の横幅とは最も左にある単語の左端から最も右にある単語の右端までの距離を指す。
高橋くんが文章をウィンドウに表示したとき、文章がM行に収まりました。
ウィンドウの横幅としてありえる最小の値を求めてください。

## 制約
1≤M≤N≤2×10**5
1≤Li​≤10**9 (1≤i≤N)
入力はすべて整数

## 入力入力は以下の形式で標準入力から与えられる。
N M
L1​ L2​ … LN​

## 出力答えを 1 行で出力せよ。

## 入力例 1
13 3
9 5 2 7 1 8 8 2 1 5 2 3 6

## 出力例 1
26

ウィンドウの横幅が 26 のとき、以下のようにして与えられた文章を 3 行に収めることができます。
ウィンドウの横幅が 25 以下のときは与えられた文章を 3 行に収めることができないため、26 を出力してください。
単語を複数の行にまたがって表示させたり、行の横幅がウィンドウの横幅を上回ったり、単語を並べ替えたりしてはいけないことに注意してください。

## 入力例 2
10 1
1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000 1000000000

## 出力例 2
10000000009

答えが 32bit 整数に収まらない場合があることに注意してください。

## 入力例 3
30 8
8 55 26 97 48 37 47 35 55 5 17 62 2 60 23 99 73 34 75 7 46 82 84 29 41 32 31 52 32 60

## 出力例 3
189

=end

require 'prime'

n, m = gets.split.map(&:to_i)
lengths = gets.split.map(&:to_i)

# 指定の横幅で何行に収められるかを計算する関数
def count_lines(width, lengths)
  line_count = 1
  remaining_width = width

  lengths.each do |length|
    # 単語を追加するのに必要な幅
    required_width = length + (remaining_width == width ? 0 : 1) # 最初の単語では空白が不要

    if remaining_width >= required_width
      remaining_width -= required_width
    else
      line_count += 1
      remaining_width = width - length
    end
  end

  line_count
end

low = lengths.max
high = lengths.sum + n - 1  # 最大の幅は、すべての単語の長さの合計 + 空白の合計

answer = high

while low <= high
  mid = (low + high) / 2

  if count_lines(mid, lengths) <= m
    answer = mid
    high = mid - 1
  else
    low = mid + 1
  end
end

puts answer
